<%= form_with model: [:admin, @category], class: "admin-form" do |f| %>
  <% if @category.errors.any? %>
    <div class="form-errors">
      <h4><%= pluralize(@category.errors.count, "error") %> prevented saving:</h4>
      <ul>
        <% @category.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-card" style="max-width: 600px;">
    <div class="form-group">
      <%= f.label :name, class: "form-label" %>
      <%= f.text_field :name, class: "form-input", required: true %>
    </div>

    <div class="form-group">
      <%= f.label :description, class: "form-label" %>
      <%= f.text_area :description, class: "form-textarea", rows: 3 %>
    </div>

    <div class="form-group">
      <%= f.label :position, "Display Order", class: "form-label" %>
      <%= f.number_field :position, class: "form-input", min: 0, style: "max-width: 100px;" %>
      <span class="form-hint">Lower numbers appear first.</span>
    </div>
  </div>

  <div class="form-actions">
    <%= f.submit @category.persisted? ? "Update Category" : "Create Category", class: "btn btn--primary btn--lg" %>
    <%= link_to "Cancel", admin_categories_path, class: "btn btn--ghost btn--lg" %>
    
    <% if @category.persisted? %>
      <%= button_to "Delete", admin_category_path(@category), 
          method: :delete,
          class: "btn btn--danger",
          data: { turbo_confirm: "Are you sure? Works will be uncategorized." } %>
    <% end %>
  </div>
<% end %>
